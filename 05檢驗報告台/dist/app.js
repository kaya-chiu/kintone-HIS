(function(){"use strict";kintone.events.on(["app.record.edit.show","mobile.app.record.edit.show","app.record.index.edit.show"],r=>{const e=r.record;return e.病歷號碼.disabled=!0,e.檢驗單號.disabled=!0,e.檢驗代碼.disabled=!0,e.採檢時間.disabled=!0,e.報告時間.disabled=!0,e.發報告者.disabled=!0,r}),kintone.events.on(["app.record.detail.process.proceed"],r=>{const{record:e,action:d}=r,o=kintone.getLoginUser();if(d.value==="發報告")return e.報告時間.value=new Date().toISOString(),e.發報告者.value=[{code:o.code,name:o.name}],r;if(d.value==="撤回"&&e.發報告者.value[0].code!==o.code)return r.error="僅能由發報告者撤回",r})})();
